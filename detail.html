<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ë©≥Á¥∞ÊÉÖÂ†± - Chi ti·∫øt</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="detail-styles.css">
</head>
<body>
    <!-- Header -->
    <header class="detail-header">
        <div class="container">
            <div class="header-content">
                <button class="back-btn" onclick="goBack()">
                    ‚Üê Êàª„Çã - Quay l·∫°i
                </button>
                <h1 id="pageTitle">Ë©≥Á¥∞ÊÉÖÂ†± - Chi ti·∫øt</h1>
                <div class="header-actions">
                    <button class="btn-icon" onclick="printDetail()" title="Âç∞Âà∑">üñ®Ô∏è</button>
                    <button class="btn-icon" onclick="shareDetail()" title="ÂÖ±Êúâ">üì§</button>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- Quick Actions -->
        <section class="quick-actions-section">
            <div class="quick-actions-grid">
                <button class="quick-action-btn location-btn" onclick="showLocationModal()">
                    üìç ‰ΩçÁΩÆÂ§âÊõ¥ - Thay ƒë·ªïi v·ªã tr√≠
                </button>
                <button class="quick-action-btn shipment-btn" onclick="showShipmentModal()">
                    üöö Âá∫Ëç∑Ë®òÈå≤ - V·∫≠n chuy·ªÉn
                </button>
                <button class="quick-action-btn comment-btn" onclick="showCommentModal()">
                    üí¨ „Ç≥„É°„É≥„ÉàËøΩÂä† - Th√™m ghi ch√∫
                </button>
            </div>
        </section>

        <!-- Main Content Grid -->
        <div class="detail-main-grid">
            <!-- Left Column -->
            <div class="detail-left-column">
                <!-- Basic Info -->
                <section class="detail-section" id="basicInfoSection">
                    <div class="section-header">
                        <h2>Âü∫Êú¨ÊÉÖÂ†± - Th√¥ng tin c∆° b·∫£n</h2>
                    </div>
                    <div class="section-content" id="basicInfo">
                        <!-- Content will be populated by JavaScript -->
                    </div>
                </section>

                <!-- Status Info -->
                <section class="detail-section" id="statusSection">
                    <div class="section-header">
                        <h2>Áä∂ÊÖãÊÉÖÂ†± - Th√¥ng tin tr·∫°ng th√°i</h2>
                    </div>
                    <div class="section-content" id="statusInfo">
                        <!-- Content will be populated by JavaScript -->
                    </div>
                </section>

                <!-- Product Info -->
                <section class="detail-section" id="productSection">
                    <div class="section-header">
                        <h2>Ë£ΩÂìÅÊÉÖÂ†± - Th√¥ng tin s·∫£n ph·∫©m</h2>
                    </div>
                    <div class="section-content" id="productInfo">
                        <!-- Content will be populated by JavaScript -->
                    </div>
                </section>
            </div>

            <!-- Right Column -->
            <div class="detail-right-column">
                <!-- Location History -->
                <section class="detail-section" id="locationSection">
                    <div class="section-header">
                        <h2>‰ΩçÁΩÆÂ±•Ê≠¥ - L·ªãch s·ª≠ v·ªã tr√≠</h2>
                        <button class="btn-small" onclick="showLocationModal()">Â§âÊõ¥</button>
                    </div>
                    <div class="section-content" id="locationHistory">
                        <!-- Content will be populated by JavaScript -->
                    </div>
                </section>

                <!-- Shipment History -->
                <section class="detail-section" id="shipmentSection">
                    <div class="section-header">
                        <h2>Âá∫Ëç∑Â±•Ê≠¥ - L·ªãch s·ª≠ v·∫≠n chuy·ªÉn</h2>
                        <button class="btn-small" onclick="showShipmentModal()">ËøΩÂä†</button>
                    </div>
                    <div class="section-content" id="shipmentHistory">
                        <!-- Content will be populated by JavaScript -->
                    </div>
                </section>

                <!-- Related Items -->
                <section class="detail-section" id="relatedSection" style="display: none;">
                    <div class="section-header">
                        <h2 id="relatedTitle">Èñ¢ÈÄ£„Ç¢„Ç§„ÉÜ„É† - M·ª•c li√™n quan</h2>
                    </div>
                    <div class="section-content" id="relatedItems">
                        <!-- Content will be populated by JavaScript -->
                    </div>
                </section>

                <!-- User Comments -->
                <section class="detail-section" id="commentsSection">
                    <div class="section-header">
                        <h2>„É¶„Éº„Ç∂„Éº„Ç≥„É°„É≥„Éà - Ghi ch√∫ ng∆∞·ªùi d√πng</h2>
                        <button class="btn-small" onclick="showCommentModal()">ËøΩÂä†</button>
                    </div>
                    <div class="section-content" id="userComments">
                        <!-- Content will be populated by JavaScript -->
                    </div>
                </section>
            </div>
        </div>

        <!-- Error Message -->
        <div id="errorMessage" class="error-message" style="display: none;">
            <div class="error-content">
                <h3>‚ö†Ô∏è „Ç®„É©„Éº - L·ªói</h3>
                <p id="errorText"></p>
                <button onclick="hideError()" class="btn-secondary">Èñâ„Åò„Çã</button>
            </div>
        </div>

        <!-- Loading -->
        <div id="loadingIndicator" class="loading">
            <div class="spinner"></div>
            <span>Ë™≠„ÅøËæº„Åø‰∏≠...</span>
        </div>
    </div>

    <!-- Location Change Modal -->
    <div id="locationModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üìç ‰ΩçÁΩÆÂ§âÊõ¥ - Thay ƒë·ªïi v·ªã tr√≠</h3>
                <button class="modal-close" onclick="hideLocationModal()">&times;</button>
            </div>
            <form id="locationForm" class="modal-body">
                <div class="form-group">
                    <label>ÁèæÂú®‰ΩçÁΩÆ - V·ªã tr√≠ hi·ªán t·∫°i</label>
                    <input type="text" id="currentLocation" readonly>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>„É©„ÉÉ„ÇØ - Gi√°</label>
                        <select id="rackSelect" onchange="updateRackLayers()">
                            <option value="">ÈÅ∏Êäû - Ch·ªçn</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>„É¨„Ç§„É§„Éº - T·∫ßng</label>
                        <select id="rackLayerSelect">
                            <option value="">ÈÅ∏Êäû - Ch·ªçn</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>Â§âÊõ¥ËÄÖ - Ng∆∞·ªùi thay ƒë·ªïi</label>
                    <select id="employeeSelect">
                        <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ - Ch·ªçn nh√¢n vi√™n</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ÂÇôËÄÉ - Ghi ch√∫</label>
                    <textarea id="locationNotes" rows="3"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" onclick="hideLocationModal()" class="btn-secondary">
                        „Ç≠„É£„É≥„Çª„É´ - H·ªßy
                    </button>
                    <button type="submit" class="btn-primary">
                        üíæ ‰øùÂ≠ò - L∆∞u
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Shipment Modal -->
    <div id="shipmentModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üöö Âá∫Ëç∑Ë®òÈå≤ - V·∫≠n chuy·ªÉn</h3>
                <button class="modal-close" onclick="hideShipmentModal()">&times;</button>
            </div>
            <form id="shipmentForm" class="modal-body">
                <div class="form-group">
                    <label>ÁèæÂú®Áä∂ÊÖã - Tr·∫°ng th√°i hi·ªán t·∫°i</label>
                    <input type="text" id="currentStatus" readonly>
                </div>
                <div class="form-group">
                    <label>ÈÄÅ„ÇäÂÖà‰ºöÁ§æ - C√¥ng ty nh·∫≠n</label>
                    <select id="toCompanySelect">
                        <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ - Ch·ªçn c√¥ng ty</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>‰ºöÁ§æÂêç - T√™n c√¥ng ty</label>
                    <input type="text" id="companyName" readonly>
                </div>
                <div class="form-group">
                    <label>ÊãÖÂΩìËÄÖ - Ng∆∞·ªùi ph·ª• tr√°ch</label>
                    <input type="text" id="contactPerson">
                </div>
                <div class="form-group">
                    <label>Âá∫Ëç∑Êó• - Ng√†y g·ª≠i</label>
                    <input type="date" id="shipmentDate">
                </div>
                <div class="form-group">
                    <label>ÂÇôËÄÉ - Ghi ch√∫</label>
                    <textarea id="shipmentNotes" rows="3"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" onclick="hideShipmentModal()" class="btn-secondary">
                        „Ç≠„É£„É≥„Çª„É´ - H·ªßy
                    </button>
                    <button type="submit" class="btn-primary">
                        üíæ ‰øùÂ≠ò - L∆∞u
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Comment Modal -->
    <div id="commentModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üí¨ „Ç≥„É°„É≥„ÉàËøΩÂä† - Th√™m ghi ch√∫</h3>
                <button class="modal-close" onclick="hideCommentModal()">&times;</button>
            </div>
            <form id="commentForm" class="modal-body">
                <div class="form-group">
                    <label>„Ç≥„É°„É≥„Éà - Ghi ch√∫</label>
                    <textarea id="commentText" rows="4" required></textarea>
                </div>
                <div class="form-group">
                    <label>Ë®òÈå≤ËÄÖ - Ng∆∞·ªùi ghi</label>
                    <select id="commentEmployeeSelect">
                        <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ - Ch·ªçn nh√¢n vi√™n</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" onclick="hideCommentModal()" class="btn-secondary">
                        „Ç≠„É£„É≥„Çª„É´ - H·ªßy
                    </button>
                    <button type="submit" class="btn-primary">
                        üíæ ‰øùÂ≠ò - L∆∞u
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="detail.js"></script>
</body>
</html>
